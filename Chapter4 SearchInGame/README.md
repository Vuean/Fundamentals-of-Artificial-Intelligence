# 第四章 博弈中的搜索

## 4.1 博弈原理

> 博弈原理及分类

- 博弈行为

    具有竞争或对抗性质的行为。

    在这类行为中参加斗争或竞争的各方各自具有不同的目标或利益。为了达到各自的目标和利益，各方必须考虑对手的各种可能的行动方案，并力图选取对自己最为有利或最为合理的方案。

- 博弈论

    博弈论就是研究博弈行为中斗争各方是否存在着最合理的行为方案，以及如何找到这个合理的行为方案的数学理论和方法。

> 博弈分类——根据不同的基准有不同的分类

- 合作博弈 VS 非合作博弈

    区别：是否在于相互发生作用的当事人之间有一个具有约束力的协议

- 静态博弈 VS 动态博弈

    区别：同时选择或虽非同时选择但后行动者并不知道先行动者采取了什么具体行动；或行动有先后顺序，且后行动者能够观察到先行动者所选择的行动。

- 完全信息博弈 VS 不完全信息博弈

    区别：是否在博弈过程中，每一位参与人对其他参与人的特征 、策略空间及收益函数有准确的信息。

- 零和博弈 VS 非零和博弈

    区别博弈中各方的收益或损失的总和是不是零值。

> 囚徒困境

介绍

> 博弈策略

- 单人博弈

- 双人博弈

## 4.2 博弈树及其估计

### 4.2.1 博弈树

> 双人、具有完备信息博弈问题的特点

1. 双人对弈，对垒的双方轮流走步；

2. 信息完备，对垒双方所得到的信息是一样的；

3. 零和。即对一方有利的棋，对另一方肯定不利，不存在对双方均有利、或均无利的棋。

博弈问题可以状态空间图的形式来描述：操作作用于初始状态描述及其所有的后裔状态描述，就产生了博弈图或博弈树。

博弈问题可以看成是一个与/或图，但是与一般的与/或图并不一样，是一种特殊的带与/或关系状态空间图。

> 搜索策略要考虑的问题

- 对弈过程的搜索图呈现出与或图表示形式；

- 实现一种取胜的策略就是搜索一个解图，解图就代表一种完整的博弈策略；

- 问题：对于简单的游戏，采用与寻找与/或图解图相类似的技术是可以解决的。但是对于复杂的游戏这种方法是根本行不通的。

### 4.2.2 启发式评估

### 4.4.3 博弈树的极小化极大评估

## 4.3 极小极大算法

### 4.3.1 α-β剪枝的极小化极大算法

> 极小化极大过程的问题

- 把搜索的产生过程与根节点的评估过程完全分开。在搜索树完全产生之后，才开始对根节点回传估值，这种分开进行的方式导致博弈树搜索的低效率：节点数将随着搜索深度的增加呈指数增长。这极大地限制了极小极大搜索方法的使用。

- 解决方法：让搜索树的产生过程、启发式评估与返回值的过程同时进行，即**在搜索深度不变的情况下，利用已有的搜索信息减少生成的节点数**，从而使搜索效率大为提高。——α-β过程

> 剪枝规则

1. α 剪枝：如果一个MIN节点的β值小于或等于它的某一个MAX祖先节点的α值，则剪枝发生在该MIN节点之下：终止这个MIN节点以下的搜索过程。这个MIN节点最终的倒推值就确定为这个β值。

2. β剪枝：如果一个MAX节点的α值大于或者等于它的某一个MIN祖先节点的β值，则剪枝发生在该MAX节点之下。终止这个MAX节点以下的搜索过程。该MAX节点的最终返回值可以置成它的α值。

> 进行α-β剪枝注意的问题

1. 比较都是在极小节点和极大节点间进行的，极大节点和极大节点的比较或者极小节点和极小节点间的比较是无意义的。

2. 在比较时注意是与“祖先层”节点比较，不只是与父辈节点比较。当然，这里的“祖先层”节点，指的是那些已经有了值的节点。

3. 当只有一个节点的“固定”以后，其值才能够向其父节点传递。

4. α-β剪枝方法搜索得到的最佳走步与极小极大方法得到的结果是一致的，α-β剪枝并没有因为提高效率，而降低得到最佳走步的可能性。

5. 在实际搜索时，并不是先生成指定深度的搜索图，再在搜索图上进行剪枝。如果这样就失去了α-β剪枝方法的意义。在实际程序实现时，首先规定一个搜索深度，然后按照类似于深度优先搜索的方式，生成节点。在节点的生成过程中，如果在某一个节点处发生了剪枝，则该节点其余未生成的节点就不再生成了。

> 极小化极大算法的改进

- 负极大值评估法：

核心思想在于：父节点的值是各子节点的负数的极大值。

> 渐进深化法：

解决问题：你可以探索博弈树到深度1，返回找到最佳的走子方式。如果还剩很多时间，你可以进行到深度2。如果依然有时间，你可以深入深度3，以此类推。类似于迭代加深的深度优先搜索算法。

> 地平线效应：

在搜索树中，如果搜索到达了一个先验界限，可能会出现类似的地平线效应。也就是说，博弈树中隐藏了一步灾难性的走子，但是它不在搜索视线范围内。
